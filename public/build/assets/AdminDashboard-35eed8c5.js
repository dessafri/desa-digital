import{_ as R,f as g,g as F,c as D,o as M,h as G,a,b as i,d as t,n as m,l as u,m as c,F as b,r as h,T as K,t as l,e as _,D as j,E as A,G as V,H as z,k as w,x as L,z as P,p as E,I as q,J as H}from"./app-0010789c.js";const J={class:"min-h-full bg-slate-50 px-4 py-8 sm:px-6 lg:px-10"},O={class:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-primary via-primary/85 to-secondary text-white shadow-xl"},Q={class:"relative flex flex-col gap-8 p-8 sm:p-10 lg:flex-row lg:items-center lg:gap-16 lg:p-12"},U={class:"flex-1 space-y-5"},W={class:"flex flex-wrap items-center gap-3 pt-2"},X={class:"grid flex-1 gap-4 sm:grid-cols-2"},Y={class:"flex items-center justify-between"},Z={class:"rounded-xl bg-white/15 p-2 text-white/80"},tt={class:"text-[11px] font-semibold uppercase tracking-widest text-white/70"},et={class:"mt-4 text-3xl font-semibold text-white"},st={class:"mt-1 text-[11px] text-white/70"},at={key:0,class:"grid place-items-center py-20"},it={key:0,class:"mt-10 space-y-10"},lt={class:"grid gap-6 lg:grid-cols-[1.2fr_1fr]"},nt={class:"rounded-3xl bg-white p-8 shadow-sm"},rt={class:"flex items-center justify-between"},ot={class:"text-xs text-slate-500"},dt={class:"mt-6 divide-y divide-slate-100 text-sm"},ut={class:"flex items-center justify-between"},ct={class:"font-semibold text-slate-900 line-clamp-1"},mt={class:"text-xs text-slate-500"},xt={class:"text-xs text-slate-500 line-clamp-2"},pt={key:0,class:"py-10 text-center text-xs text-slate-400"},gt={class:"rounded-3xl bg-white p-8 shadow-sm"},bt={class:"flex items-center justify-between"},ht={class:"mt-6 space-y-3 text-sm text-slate-600"},ft={class:"font-semibold text-slate-800"},vt={class:"mt-1 text-xs text-slate-500"},_t={key:0,class:"text-xs text-slate-400"},wt={class:"grid gap-4 md:grid-cols-2 xl:grid-cols-4"},yt={class:"flex items-center justify-between"},kt={class:"rounded-2xl bg-primary/10 p-3 text-primary transition group-hover:bg-primary group-hover:text-white"},Dt={class:"mt-6 text-base font-semibold text-slate-900"},Bt={class:"mt-2 text-xs text-slate-500"},It={class:"grid gap-6 lg:grid-cols-[1.1fr_0.9fr]"},jt={class:"rounded-3xl bg-white p-8 shadow-sm"},At={class:"flex flex-wrap items-center justify-between gap-3"},Lt={class:"mt-8 grid gap-4 sm:grid-cols-2"},Pt={class:"text-xs uppercase tracking-widest text-primary/70"},Ct={class:"mt-3 text-2xl font-semibold text-slate-900"},Nt={class:"rounded-3xl bg-white p-8 shadow-sm"},St={key:0,class:"mt-6 space-y-4"},Tt={class:"h-40 overflow-hidden rounded-2xl"},$t=["src","alt"],Rt={class:"space-y-1"},Ft={class:"text-sm font-semibold text-slate-900"},Mt={class:"text-xs text-slate-500 line-clamp-2"},Gt={key:1,class:"mt-8 text-center text-xs text-slate-400"},Kt={__name:"AdminDashboard",setup(Vt){const f=g(!1),r=F({news:0,services:0,statistics:0,gallery:0}),v=g([]),y=g([]),k=g([]),d=g(null),C=D(()=>[{title:"Berita",value:r.news,subtitle:"Artikel termasuk draft",icon:j},{title:"Layanan",value:r.services,subtitle:"Layanan aktif di portal",icon:A},{title:"Statistik",value:r.statistics,subtitle:"Indikator desa tercatat",icon:V},{title:"Album Galeri",value:r.gallery,subtitle:"Dokumentasi kegiatan",icon:z}]),N=[{label:"Kelola Berita",description:"Tambah, ubah, dan terbitkan berita desa",to:"/admin/berita",icon:j},{label:"Layanan Digital",description:"Atur katalog layanan administratif",to:"/admin/layanan",icon:A},{label:"Perangkat Desa",description:"Perbarui struktur dan kontak perangkat",to:"/admin/pejabat",icon:q},{label:"Pengaturan Portal",description:"Identitas visual, sambutan, dan tema",to:"/admin/pengaturan",icon:H}],B=D(()=>v.value.slice(0,3)),S=D(()=>y.value.length?y.value.slice(0,4):[{id:"stat-fallback-1",label:"Belum ada data statistik",value:"-"}]);async function I(){var n;f.value=!0;try{const[e,o,x,p]=await Promise.all([w.get("/news",{params:{include_draft:!0,per_page:6}}),w.get("/services"),w.get("/statistics"),w.get("/gallery-albums")]);r.news=e.data.total??((n=e.data.data)==null?void 0:n.length)??0,r.services=o.data.length??0,r.statistics=x.data.length??0,y.value=x.data??[],r.gallery=p.data.length??0,v.value=e.data.data??[],d.value=p.data[0]??null,k.value=[{id:"news",title:"Pembaruan berita desa",description:`${v.value.length} berita tersinkronisasi dengan sistem`},{id:"services",title:"Layanan publik aktif",description:`${r.services} layanan tersedia bagi warga secara daring`},{id:"gallery",title:"Album galeri",description:`${r.gallery} album mendokumentasikan kegiatan terbaru`}]}finally{f.value=!1}}function T(n){return n==="-"||n===void 0||n===null?"-":typeof n=="string"?n:n>1e3?new Intl.NumberFormat("id-ID",{notation:"compact",compactDisplay:"short"}).format(n):new Intl.NumberFormat("id-ID").format(n)}function $(n){return n?new Intl.DateTimeFormat("id-ID",{day:"numeric",month:"long",year:"numeric"}).format(new Date(n)):"Draft"}return M(I),(n,e)=>{var x,p;const o=G("RouterLink");return a(),i("div",J,[t("section",O,[e[5]||(e[5]=t("div",{class:"absolute -top-24 -right-20 h-64 w-64 rounded-full bg-white/10 blur-3xl"},null,-1)),e[6]||(e[6]=t("div",{class:"absolute -bottom-32 -left-16 h-72 w-72 rounded-full bg-white/10 blur-3xl"},null,-1)),t("div",Q,[t("div",U,[e[2]||(e[2]=t("span",{class:"inline-flex items-center gap-2 rounded-full bg-white/15 px-4 py-1 text-xs font-semibold uppercase tracking-[0.35em] text-white/80"}," Dashboard Desa ",-1)),e[3]||(e[3]=t("h1",{class:"text-3xl font-semibold leading-tight sm:text-4xl"}," Ringkasan Aktivitas & Layanan Desa Sugihwaras ",-1)),e[4]||(e[4]=t("p",{class:"max-w-xl text-sm text-white/80"}," Pantau performa portal desa secara real-time: publikasi berita, pemutakhiran layanan digital, statistik masyarakat, dan dokumentasi kegiatan. ",-1)),t("div",W,[t("button",{class:"inline-flex items-center gap-2 rounded-full bg-white px-5 py-2 text-xs font-semibold text-slate-900 shadow-md shadow-slate-900/10 transition hover:bg-white/90",onClick:I},[...e[0]||(e[0]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4.5 4.5v15m15-15v15m-15-7.5h15"})],-1),m(" Muat ulang data ",-1)])]),u(o,{to:"/",target:"_blank",class:"inline-flex items-center gap-2 rounded-full border border-white/30 px-5 py-2 text-xs font-semibold text-white/80 transition hover:border-white hover:text-white"},{default:c(()=>[...e[1]||(e[1]=[m(" Lihat portal publik ",-1)])]),_:1})])]),t("div",X,[(a(!0),i(b,null,h(C.value,s=>(a(),i("article",{key:s.title,class:"rounded-2xl border border-white/10 bg-white/10 p-5 text-left backdrop-blur"},[t("div",Y,[t("div",Z,[(a(),L(P(s.icon),{class:"h-5 w-5"}))]),t("span",tt,l(s.title),1)]),t("p",et,l(s.value),1),t("p",st,l(s.subtitle),1)]))),128))])])]),u(K,{name:"fade"},{default:c(()=>[f.value?(a(),i("div",at,[...e[7]||(e[7]=[t("div",{class:"h-12 w-12 animate-spin rounded-full border-4 border-primary/30 border-t-primary"},null,-1)])])):_("",!0)]),_:1}),f.value?_("",!0):(a(),i("div",it,[t("section",lt,[t("article",nt,[t("div",rt,[t("div",null,[e[8]||(e[8]=t("h2",{class:"text-lg font-semibold text-slate-900"},"Berita Terbaru",-1)),t("p",ot,l(v.value.length?"Status 3 berita terakhir":"Belum ada berita yang dipublikasikan"),1)]),u(o,{to:"/admin/berita",class:"inline-flex items-center gap-2 rounded-full bg-slate-100 px-4 py-2 text-xs font-semibold text-slate-600 transition hover:bg-primary/10 hover:text-primary"},{default:c(()=>[...e[9]||(e[9]=[m(" Kelola Berita ",-1)])]),_:1})]),t("ul",dt,[(a(!0),i(b,null,h(B.value,s=>(a(),i("li",{key:s.id,class:"flex flex-col gap-1 py-4"},[t("div",ut,[t("p",ct,l(s.title),1),t("span",{class:E([s.status==="published"?"text-emerald-600":"text-slate-400","text-[11px] font-semibold uppercase tracking-widest"])},l(s.status==="published"?"Publish":"Draft"),3)]),t("p",mt,l($(s.published_at)),1),t("p",xt,l(s.excerpt||"Tanpa ringkasan."),1)]))),128)),B.value.length?_("",!0):(a(),i("li",pt," Belum ada berita yang dapat ditampilkan. "))])]),t("article",gt,[t("div",bt,[e[11]||(e[11]=t("div",null,[t("h2",{class:"text-lg font-semibold text-slate-900"},"Aktivitas Sistem"),t("p",{class:"text-xs text-slate-500"},"Log singkat perubahan terbaru")],-1)),u(o,{to:"/admin/pengaturan",class:"text-xs font-semibold text-primary hover:underline"},{default:c(()=>[...e[10]||(e[10]=[m(" Detail ",-1)])]),_:1})]),t("ul",ht,[(a(!0),i(b,null,h(k.value,s=>(a(),i("li",{key:s.id,class:"rounded-2xl border border-slate-100 px-4 py-3"},[t("p",ft,l(s.title),1),t("p",vt,l(s.description),1)]))),128)),k.value.length?_("",!0):(a(),i("li",_t," Aktivitas terbaru akan muncul di sini. "))])])]),t("section",wt,[(a(),i(b,null,h(N,s=>u(o,{key:s.to,to:s.to,class:"group rounded-3xl border border-slate-100 bg-white p-6 shadow-sm transition hover:-translate-y-1 hover:border-primary/40"},{default:c(()=>[t("div",yt,[t("span",kt,[(a(),L(P(s.icon),{class:"h-5 w-5"}))]),e[12]||(e[12]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-slate-300 transition group-hover:text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 5l7 7-7 7"})],-1))]),t("h3",Dt,l(s.label),1),t("p",Bt,l(s.description),1)]),_:2},1032,["to"])),64))]),t("section",It,[t("article",jt,[t("div",At,[e[14]||(e[14]=t("div",null,[t("h2",{class:"text-lg font-semibold text-slate-900"},"Statistik Desa"),t("p",{class:"text-xs text-slate-500"},"Ikhtisar data demografi & layanan")],-1)),u(o,{to:"/admin/statistik",class:"text-xs font-semibold text-primary hover:underline"},{default:c(()=>[...e[13]||(e[13]=[m(" Kelola Statistik ",-1)])]),_:1})]),t("div",Lt,[(a(!0),i(b,null,h(S.value,s=>(a(),i("div",{key:s.id,class:"rounded-2xl border border-slate-100 bg-slate-50 p-5"},[t("p",Pt,l(s.label),1),t("p",Ct,l(T(s.value)),1)]))),128))])]),t("article",Nt,[e[16]||(e[16]=t("h2",{class:"text-lg font-semibold text-slate-900"},"Album Galeri Terakhir",-1)),e[17]||(e[17]=t("p",{class:"text-xs text-slate-500"},"Snapshot dokumentasi kegiatan desa",-1)),d.value?(a(),i("div",St,[t("div",Tt,[t("img",{src:d.value.cover_image||((p=(x=d.value.items)==null?void 0:x[0])==null?void 0:p.image_url),alt:d.value.title,class:"h-full w-full object-cover"},null,8,$t)]),t("div",Rt,[t("p",Ft,l(d.value.title),1),t("p",Mt,l(d.value.description),1)]),u(o,{to:"/admin/galeri",class:"inline-flex items-center gap-2 text-xs font-semibold text-primary"},{default:c(()=>[...e[15]||(e[15]=[m(" Kelola Galeri ",-1),t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 5l7 7-7 7"})],-1)])]),_:1})])):(a(),i("div",Gt," Belum ada galeri yang ditambahkan. "))])])]))])}}},Et=R(Kt,[["__scopeId","data-v-5aa57246"]]);export{Et as default};
