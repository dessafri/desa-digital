import{g as x,f as c,c as w,o as v,a as V,b as k,d as e,n as o,w as a,v as r,k as b}from"./app-7ddd2cfa.js";const U={class:"p-8"},S={class:"mt-8 grid gap-6 lg:grid-cols-2"},j={class:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm space-y-4"},T={class:"grid gap-4 text-sm"},A={class:"text-xs font-semibold text-slate-500 space-y-1"},B={class:"text-xs font-semibold text-slate-500 space-y-1"},E={class:"text-xs font-semibold text-slate-500 space-y-1"},P={class:"text-xs font-semibold text-slate-500 space-y-1"},D={class:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm space-y-4"},M={class:"grid gap-4 text-sm"},N={class:"text-xs font-semibold text-slate-500 space-y-1"},H={class:"text-xs font-semibold text-slate-500 space-y-1"},I={class:"grid gap-4 md:grid-cols-2"},J={class:"text-xs font-semibold text-slate-500 space-y-1"},K={class:"text-xs font-semibold text-slate-500 space-y-1"},O={class:"text-xs font-semibold text-slate-500 space-y-1"},W={class:"text-xs font-semibold text-slate-500 space-y-1"},_={class:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm space-y-4"},C={class:"grid gap-4 text-sm"},F={class:"text-xs font-semibold text-slate-500 space-y-1"},L={class:"text-xs font-semibold text-slate-500 space-y-1"},R={class:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm space-y-4"},q={class:"grid gap-4 text-sm"},z={class:"text-xs font-semibold text-slate-500 space-y-1"},G={class:"text-xs font-semibold text-slate-500 space-y-1"},Q={class:"text-xs font-semibold text-slate-500 space-y-1"},X={class:"text-xs font-semibold text-slate-500 space-y-1"},Y={class:"text-xs font-semibold text-slate-500 space-y-1"},h={__name:"AdminSettingView",setup(Z){const p=["site.name","site.tagline","site.primary_color","site.secondary_color","hero.title","hero.subtitle","hero.cta_text","hero.cta_link","welcome.message","welcome.author","vision.body","mission.items","contact.address","contact.email","contact.phone","social.facebook","social.instagram"],l=x(Object.fromEntries(p.map(n=>[n,""]))),u=x({}),d=c(""),y=w(()=>d.value.split(`
`).map(n=>n.trim()).filter(Boolean));async function m(){var t;const{data:n}=await b.get("/settings",{params:{keys:p.join(",")}});n.forEach(s=>{if(u[s.key]=s,s.type==="json"){const i=f(s.value);Array.isArray(i)&&s.key==="mission.items"&&(d.value=i.join(`
`))}else l[s.key]=s.value??""}),d.value||(d.value=(((t=u["mission.items"])==null?void 0:t.value)??"").split(`
`).filter(Boolean).join(`
`)),l["site.primary_color"]||(l["site.primary_color"]="#0EA5E9"),l["site.secondary_color"]||(l["site.secondary_color"]="#10B981")}function f(n){try{return JSON.parse(n)}catch{return n}}async function g(){const n=p.map(t=>{const s=t==="mission.items",i=s?y.value:l[t];return b.post("/settings",{key:t,value:i,type:s?"json":"text"})});await Promise.all(n),await m(),alert("Pengaturan tersimpan.")}return v(m),(n,t)=>(V(),k("div",U,[e("header",{class:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between"},[t[17]||(t[17]=e("div",null,[e("h1",{class:"text-2xl font-semibold text-slate-900"},"Pengaturan Situs"),e("p",{class:"text-sm text-slate-500"},"Atur identitas visual dan konten statis portal desa.")],-1)),e("button",{class:"inline-flex items-center gap-2 rounded-full bg-primary px-4 py-2 text-sm font-semibold text-white",onClick:g}," Simpan Semua ")]),e("section",S,[e("article",j,[t[22]||(t[22]=e("h2",{class:"text-lg font-semibold text-slate-900"},"Identitas Desa",-1)),e("div",T,[e("label",A,[t[18]||(t[18]=o(" Nama Situs ",-1)),a(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>l["site.name"]=s),type:"text",class:"w-full rounded-lg border border-slate-200 px-3 py-2"},null,512),[[r,l["site.name"]]])]),e("label",B,[t[19]||(t[19]=o(" Tagline ",-1)),a(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>l["site.tagline"]=s),type:"text",class:"w-full rounded-lg border border-slate-200 px-3 py-2"},null,512),[[r,l["site.tagline"]]])]),e("label",E,[t[20]||(t[20]=o(" Warna Primer ",-1)),a(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>l["site.primary_color"]=s),type:"color",class:"h-10 w-20 rounded border border-slate-200"},null,512),[[r,l["site.primary_color"]]])]),e("label",P,[t[21]||(t[21]=o(" Warna Sekunder ",-1)),a(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>l["site.secondary_color"]=s),type:"color",class:"h-10 w-20 rounded border border-slate-200"},null,512),[[r,l["site.secondary_color"]]])])])]),e("article",D,[t[29]||(t[29]=e("h2",{class:"text-lg font-semibold text-slate-900"},"Hero & Sambutan",-1)),e("div",M,[e("label",N,[t[23]||(t[23]=o(" Judul Hero ",-1)),a(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>l["hero.title"]=s),type:"text",class:"w-full rounded-lg border border-slate-200 px-3 py-2"},null,512),[[r,l["hero.title"]]])]),e("label",H,[t[24]||(t[24]=o(" Subjudul Hero ",-1)),a(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=s=>l["hero.subtitle"]=s),rows:"2",class:"w-full rounded-lg border border-slate-200 px-3 py-2"},null,512),[[r,l["hero.subtitle"]]])]),e("div",I,[e("label",J,[t[25]||(t[25]=o(" Teks Tombol ",-1)),a(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>l["hero.cta_text"]=s),type:"text",class:"w-full rounded-lg border border-slate-200 px-3 py-2"},null,512),[[r,l["hero.cta_text"]]])]),e("label",K,[t[26]||(t[26]=o(" Link Tombol ",-1)),a(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>l["hero.cta_link"]=s),type:"text",class:"w-full rounded-lg border border-slate-200 px-3 py-2"},null,512),[[r,l["hero.cta_link"]]])])]),e("label",O,[t[27]||(t[27]=o(" Sambutan Kepala Desa ",-1)),a(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=s=>l["welcome.message"]=s),rows:"4",class:"w-full rounded-lg border border-slate-200 px-3 py-2"},null,512),[[r,l["welcome.message"]]])]),e("label",W,[t[28]||(t[28]=o(" Penutup Sambutan ",-1)),a(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>l["welcome.author"]=s),type:"text",class:"w-full rounded-lg border border-slate-200 px-3 py-2"},null,512),[[r,l["welcome.author"]]])])])]),e("article",_,[t[32]||(t[32]=e("h2",{class:"text-lg font-semibold text-slate-900"},"Visi & Misi",-1)),e("div",C,[e("label",F,[t[30]||(t[30]=o(" Visi ",-1)),a(e("textarea",{"onUpdate:modelValue":t[10]||(t[10]=s=>l["vision.body"]=s),rows:"3",class:"w-full rounded-lg border border-slate-200 px-3 py-2"},null,512),[[r,l["vision.body"]]])]),e("label",L,[t[31]||(t[31]=o(" Daftar Misi (pisahkan baris) ",-1)),a(e("textarea",{"onUpdate:modelValue":t[11]||(t[11]=s=>d.value=s),rows:"5",class:"w-full rounded-lg border border-slate-200 px-3 py-2"},null,512),[[r,d.value]])])])]),e("article",R,[t[38]||(t[38]=e("h2",{class:"text-lg font-semibold text-slate-900"},"Kontak Desa",-1)),e("div",q,[e("label",z,[t[33]||(t[33]=o(" Alamat Kantor ",-1)),a(e("textarea",{"onUpdate:modelValue":t[12]||(t[12]=s=>l["contact.address"]=s),rows:"2",class:"w-full rounded-lg border border-slate-200 px-3 py-2"},null,512),[[r,l["contact.address"]]])]),e("label",G,[t[34]||(t[34]=o(" Email Resmi ",-1)),a(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>l["contact.email"]=s),type:"email",class:"w-full rounded-lg border border-slate-200 px-3 py-2"},null,512),[[r,l["contact.email"]]])]),e("label",Q,[t[35]||(t[35]=o(" Nomor Telepon ",-1)),a(e("input",{"onUpdate:modelValue":t[14]||(t[14]=s=>l["contact.phone"]=s),type:"text",class:"w-full rounded-lg border border-slate-200 px-3 py-2"},null,512),[[r,l["contact.phone"]]])]),e("label",X,[t[36]||(t[36]=o(" Facebook ",-1)),a(e("input",{"onUpdate:modelValue":t[15]||(t[15]=s=>l["social.facebook"]=s),type:"text",class:"w-full rounded-lg border border-slate-200 px-3 py-2"},null,512),[[r,l["social.facebook"]]])]),e("label",Y,[t[37]||(t[37]=o(" Instagram ",-1)),a(e("input",{"onUpdate:modelValue":t[16]||(t[16]=s=>l["social.instagram"]=s),type:"text",class:"w-full rounded-lg border border-slate-200 px-3 py-2"},null,512),[[r,l["social.instagram"]]])])])])])]))}};export{h as default};
