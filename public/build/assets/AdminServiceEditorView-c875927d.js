import{q as D,N,f as w,g as B,c,o as J,h as I,a as r,b as d,d as e,n as h,t as m,y as L,F,w as u,v as p,l as A,A as b,k as f}from"./app-0010789c.js";import{c as E,J as H,a as O}from"./jodit-11da9fd9.js";const P={class:"space-y-8 p-8"},R={class:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between"},q={class:"space-y-1.5"},$={class:"text-3xl font-semibold text-slate-900"},G={class:"flex flex-wrap items-center gap-3"},K=["disabled"],z={key:0,class:"inline-flex items-center gap-2"},Q={key:1},W={class:"space-y-6 rounded-3xl border border-slate-200 bg-white/95 p-6 shadow-sm backdrop-blur"},X={key:0,class:"col-span-full grid place-items-center py-20"},Y={class:"space-y-6"},Z={class:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm"},ee={class:"mt-5 space-y-4 text-sm"},te={class:"space-y-1"},se={class:"grid gap-4 md:grid-cols-2"},ae={class:"space-y-1"},le={class:"space-y-1"},oe={class:"space-y-1"},ie={class:"space-y-1"},ne={class:"space-y-6"},re={class:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm text-sm"},de={class:"mt-5 space-y-4"},ue={class:"space-y-1"},pe={class:"space-y-1"},ce={class:"rounded-lg border border-dashed border-slate-200 bg-slate-50 px-3 py-2 text-[11px] text-slate-500"},xe={__name:"AdminServiceEditorView",setup(me){const x=D(),_=N(),U=H,C=O,S=E({minHeight:320}),o=w(!1),i=w(!1),s=B({id:null,title:"",subtitle:"",description:"",icon:"",link:"",order:0}),n=c(()=>!!x.params.id),V=c(()=>n.value?"Perbarui Layanan":"Tambah Layanan Baru"),M=c(()=>n.value?"Perbarui Layanan":"Simpan Layanan");function y(){_.push({name:"admin.services"})}function g(){s.id=null,s.title="",s.subtitle="",s.description="",s.icon="",s.link="",s.order=0}function T(){n.value?v():g()}async function v(){if(!n.value){g();return}i.value=!0;try{const{data:a}=await f.get(`/services/${x.params.id}`);s.id=a.id,s.title=a.title||"",s.subtitle=a.subtitle||"",s.description=a.description||"",s.icon=a.icon||"",s.link=a.link||"",s.order=Number(a.order??0)}finally{i.value=!1}}async function k(){if(!(o.value||i.value)){o.value=!0;try{const a={title:s.title,subtitle:s.subtitle||null,description:s.description||null,icon:s.icon||null,link:s.link||null,order:Number(s.order)||0};n.value?await f.put(`/services/${s.id}`,a):await f.post("/services",a),y()}finally{o.value=!1}}}return J(async()=>{await v()}),(a,t)=>{const j=I("jodit-editor");return r(),d("div",P,[e("header",R,[e("div",q,[e("button",{class:"inline-flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.35em] text-primary/70",onClick:y},[...t[6]||(t[6]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3.5 w-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15 19l-7-7 7-7"})],-1),h(" Kembali ",-1)])]),e("h1",$,m(V.value),1),t[7]||(t[7]=e("p",{class:"text-sm text-slate-500"},"Isi detail layanan desa agar masyarakat memahami prosedur dan tautan yang disediakan.",-1))]),e("div",G,[e("button",{type:"button",class:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-primary hover:text-primary",onClick:T}," Reset Form "),e("button",{type:"button",class:"inline-flex items-center gap-2 rounded-full bg-primary px-5 py-2 text-sm font-semibold text-white shadow transition hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-70",onClick:k,disabled:o.value||i.value},[o.value?(r(),d("span",z,[...t[8]||(t[8]=[e("svg",{class:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 3v3m0 12v3m9-9h-3M6 12H3m15.364 6.364-2.121-2.121M8.757 8.757 6.636 6.636m12.728 0-2.121 2.121M8.757 15.243 6.636 17.364"})],-1),h(" Menyimpan... ",-1)])])):(r(),d("span",Q,m(M.value),1))],8,K)])]),e("section",W,[e("form",{class:"grid gap-6 lg:grid-cols-[minmax(0,2fr)_1fr]",onSubmit:L(k,["prevent"])},[i.value?(r(),d("div",X,[...t[9]||(t[9]=[e("div",{class:"h-10 w-10 animate-spin rounded-full border-4 border-primary/30 border-t-primary"},null,-1)])])):(r(),d(F,{key:1},[e("div",Y,[e("article",Z,[t[15]||(t[15]=e("h2",{class:"text-lg font-semibold text-slate-900"},"Informasi Layanan",-1)),e("div",ee,[e("div",te,[t[10]||(t[10]=e("label",{class:"text-xs font-semibold text-slate-500"},"Nama layanan",-1)),u(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>s.title=l),type:"text",class:"w-full rounded-lg border border-slate-200 px-3 py-2 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",required:""},null,512),[[p,s.title]])]),e("div",se,[e("div",ae,[t[11]||(t[11]=e("label",{class:"text-xs font-semibold text-slate-500"},"Subjudul / tagline",-1)),u(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>s.subtitle=l),type:"text",class:"w-full rounded-lg border border-slate-200 px-3 py-2 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Opsional"},null,512),[[p,s.subtitle]])]),e("div",le,[t[12]||(t[12]=e("label",{class:"text-xs font-semibold text-slate-500"},"Ikon (Heroicons)",-1)),u(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>s.icon=l),type:"text",class:"w-full rounded-lg border border-slate-200 px-3 py-2 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Misal: DocumentTextIcon"},null,512),[[p,s.icon]])])]),e("div",oe,[t[13]||(t[13]=e("label",{class:"text-xs font-semibold text-slate-500"},"Deskripsi layanan",-1)),A(j,{jsUrl:b(U),cssUrl:b(C),modelValue:s.description,"onUpdate:modelValue":t[3]||(t[3]=l=>s.description=l),config:b(S)},null,8,["jsUrl","cssUrl","modelValue","config"])]),e("div",ie,[t[14]||(t[14]=e("label",{class:"text-xs font-semibold text-slate-500"},"Tautan layanan",-1)),u(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>s.link=l),type:"text",class:"w-full rounded-lg border border-slate-200 px-3 py-2 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20",placeholder:"https:// atau mailto:"},null,512),[[p,s.link]])])])])]),e("div",ne,[e("article",re,[t[19]||(t[19]=e("h2",{class:"text-lg font-semibold text-slate-900"},"Pengaturan Tampilan",-1)),e("div",de,[e("div",ue,[t[16]||(t[16]=e("label",{class:"text-xs font-semibold text-slate-500"},"Urutan tampil",-1)),u(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>s.order=l),type:"number",min:"0",class:"w-full rounded-lg border border-slate-200 px-3 py-2 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/20"},null,512),[[p,s.order,void 0,{number:!0}]]),t[17]||(t[17]=e("p",{class:"text-[11px] text-slate-400"},"Angka lebih kecil tampil lebih dahulu.",-1))]),e("div",pe,[t[18]||(t[18]=e("label",{class:"text-xs font-semibold text-slate-500"},"Status tautan",-1)),e("p",ce,m(s.link?"Tautan akan ditampilkan dengan tombol akses cepat.":"Jika kosong, layanan hanya menampilkan deskripsi."),1)])])]),t[20]||(t[20]=e("article",{class:"rounded-2xl border border-slate-200 bg-white p-5 shadow-sm text-xs text-slate-500"},[e("h2",{class:"text-sm font-semibold text-slate-900"},"Tips Layanan"),e("ul",{class:"mt-3 space-y-2 list-disc pl-4"},[e("li",null,"Gunakan nama layanan yang singkat dan mudah dipahami warga."),e("li",null,"Jika layanan tersedia daring, sertakan tautan resmi."),e("li",null,"Isi deskripsi dengan alur ringkas atau syarat dokumen.")])],-1))])],64)),t[21]||(t[21]=e("button",{type:"submit",class:"hidden"},"Simpan",-1))],32)])])}}};export{xe as default};
